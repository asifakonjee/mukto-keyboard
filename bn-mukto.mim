;; mukto.mim -- Bengali input method for mukto layout.
;; Designed by Dr. Asifur Rahman Akonjee in 2024.
;; Heavily inspired from Goti by Emon Sahariar.
;; Also inspired from Avro, Probhat and Unijoy.

(input-method bn mukto)

(description "Bengali input method for mukto layout.

To see the layout image, visit this link:

https://github.com/asifakonjee/mukto-keyboard/blob/main/mukto-layout.png

Key summary:

To write \"juktakhor\" i.e. conjunct characters of consonants please use the \"halant\" character on the key 'h' between the two consonant akshar. 

E.g. ম্ত = k+h+f 

Author: Dr. Asifur Rahman Akonjee <asifakonjee@hotmail.com>
")

(title "ক")

(map
 (trans
  ((KP_1) "১")
  ((KP_2) "২")
  ((KP_3) "৩")
  ((KP_4) "৪")
  ((KP_5) "৫")
  ((KP_6) "৬")
  ((KP_7) "৭")
  ((KP_8) "৮")
  ((KP_9) "৯")
  ((KP_0) "০")
  ((KP_Decimal) ".")
  ((KP_Divide) "÷")
  ((KP_Multiply) "×")
  ((KP_Add) "+")
  ((KP_Subtract) "-") 
  
  ("~" "~")
  ("`" "`")    
  ("!" "!")
  ("1" "১")
  ("@" "@")
  ("2" "২")
  ("#" "#")
  ("3" "৩")
  ("$" "৳")
  ("4" "৪")
  ("%" "%")
  ("5" "৫")
  ("^" "ঞ")
  ("6" "৬")
  ("&" "ৎ")
  ("7" "৭")
  ("*" "ঁ")
  ("8" "৮")
  ("(" "(")
  ("9" "৯")
  (")" ")")
  ("0" "০")
  ("_" "_")
  ("-" "-")
  ("+" "+")
  ("=" "=")
  ((A-+) "÷")
  ((A-=) "×")
  
  ("Q" "ধ")
  ("q" "দ")
  ((A-Q) "দ্ব")
  ((A-W) "দ্ধ")
  ("W" "ঋ")
  ("w" "ষ")
  ("E" "ৈ")
  ("e" "ে")
  ("R" "ৃ")
  ("r" "র")
  ("T" "ঠ")
  ("t" "ট")
  ((A-T) "ট্ট")
  ("Y" "য")
  ("y" "য়")
  ("U" "ূ")
  ("u" "ু")
  ("I" "ী")
  ("i" "ি")
  ("O" "ৌ")
  ("o" "ো")
  ("P" "ফ")
  ("p" "প")
  ("{" "{")
  ("[" "[")
  ("}" "}")
  ("]" "]")
  
  ("A" "অ")
  ("a" "া")
  ("S" "শ")
  ("s" "স")
  ((A-S) "স্ট") 
  ((A-P) "ষ্ট")
  ("D" "ঢ")
  ("d" "ড")
  ("F" "থ")
  ("f" "ত")
  ((A-F) "ত্ত")
  ((A-A) "ত্ম")
  ((A-I) "ত্ত্ব")
  ("G" "ঘ")
  ("g" "গ")
  ("H" "হ")
  ("J" "ঝ")
  ("j" "জ")
  ((A-J) "জ্ঞ")
  ((A-H) "ঞ্জ")
  ((A-G) "জ্জ")
  ("K" "খ")
  ("k" "ক")
  ((A-K) "ক্ষ")
  ((A-D) "ক্ত")
  ((A-O) "ক্ষ্ণ")
  ("L" "ং")
  ("l" "ল")
  (":" "ঃ")
  ((A-:) ":")
  (";" ";")
  ("\"" "ʻ")
  ("'" "ʼ")  
  ("|" "|")
  ("\\" "\\")
  
  ("Z" "্র")
  ("z" "্য")
  ((A-z) "র্")
  ("X" "হ")
  ("x" "ড়")
  ("C" "ছ")
  ("c" "চ")
  ((A-C) "ঞ্চ")
  ("V" "আ")
  ("v" "অ")
  ("B" "ভ")
  ("b" "ব")
  ((A-B) "্ব")
  ((A-X) "ভ্র")
  ("N" "ণ")
  ("n" "ন")
  ((A-N) "ন্ঠ")
  ((A-Z) "ন্ত")
  ((A-U) "ন্ত্র্য")
  ((A-E) "ন্দ্র")
  ((A-R) "ন্ট্র")
  ("M" "ঙ")
  ("m" "ম")
  ((A-M) "ঙ্গ")
  ((A-Y) "হ্ম")
  ((A-V) "ম্প")
  ((A-L) "ঙ্খ")
  ("<" "<")
  ("," ",")
  (">" ">")
  ((A-.) ".")
  ("." "।")
  ("?" "?")
  ("/" "/")

  )  
  (deadkey
  ("h" "্") ;; BENGALI SIGN VIRAMA
  )
 
 (independent
  ("a" (delete @-) "আ")
  ("i" (delete @-) "ই")
  ("I" (delete @-) "ঈ")
  ("u" (delete @-) "উ")
  ("U" (delete @-) "ঊ")
  ("R" (delete @-) "ঋ")
  ("e" (delete @-) "এ")
  ("E" (delete @-) "ঐ")
  ("o" (delete @-) "ও")
  ("O" (delete @-) "ঔ")
  ("z" (delete @-) "য")
  ("G" (delete @-) "॥")
  ))
 
 (state
  (init
   (trans)
   (deadkey (shift virama)))

  (virama
   (independent (shift init))
   (nil (shift init))))
